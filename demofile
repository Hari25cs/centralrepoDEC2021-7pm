This is B related code

Finished logic B related code
